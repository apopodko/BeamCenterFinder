
<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

<!-- Begin Jekyll SEO tag v2.8.0 -->
<title>BeamCenterFinder | BeamCenterFinder is a script that allows determining beam center position with EPID-based images utilizing Jaws and MLC geometry.</title>
<meta name="generator" content="Jekyll v3.9.2" />
<meta property="og:title" content="BeamCenterFinder" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="BeamCenterFinder is a script that allows determining beam center position with EPID-based images utilizing Jaws and MLC geometry." />
<meta property="og:description" content="BeamCenterFinder is a script that allows determining beam center position with EPID-based images utilizing Jaws and MLC geometry." />
<link rel="canonical" href="https://apopodko.github.io/BeamCenterFinder/" />
<meta property="og:url" content="https://apopodko.github.io/BeamCenterFinder/" />
<meta property="og:site_name" content="BeamCenterFinder" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="BeamCenterFinder" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"WebSite","description":"BeamCenterFinder is a script that allows determining beam center position with EPID-based images utilizing Jaws and MLC geometry.","headline":"BeamCenterFinder","name":"BeamCenterFinder","url":"https://apopodko.github.io/BeamCenterFinder/"}</script>
<!-- End Jekyll SEO tag -->

    <link rel="stylesheet" href="/BeamCenterFinder/assets/css/style.css?v=c65c4d7f0446a4df4fd2f0b32621c6fb33f290b5">
    <!-- start custom head snippets, customize with your own _includes/head-custom.html file -->

<!-- Setup Google Analytics -->



<!-- You can set your favicon here -->
<!-- link rel="shortcut icon" type="image/x-icon" href="/BeamCenterFinder/favicon.ico" -->

<!-- end custom head snippets -->

  </head>
  <body>
    <div class="container-lg px-3 my-5 markdown-body">
      
      <h1><a href="https://apopodko.github.io/BeamCenterFinder/">BeamCenterFinder</a></h1>
      

      <p>BeamCenterFinder is a script based on the article “Beam focal spot position: The forgotten linac QA parameter. An EPID-based phantomless method for routine Stereotactic linac QA” by Jacek M. Chojnowski et al. DOI: 10.1002/acm2.12147. The idea is to find the actual position of the beam focal spot using different distances from target of X, Y jaws and MLC with two opposite collimator rotations (90 and 270 degrees for example).</p>

<p>These distances were taken from the paper. Also, to obtain the values of distances to MLC and jaws you could go to beam configuration in your eclipse system. Open beam parameters and there you might find the values of distance of top and bottom surfaces from target so you can find the distance of middle of the jaw from target.</p>

<p><img src="https://user-images.githubusercontent.com/81773641/113697626-1e48ef80-96dc-11eb-96f4-4b852811c071.PNG" alt="Open beam parameters" /></p>

<p>All the measurements could be performed in Service Dosimetry mode for beam alignment. To do that go to the XI tab, MV, Dosimetry. For MLC images you need to create a plan in Eclipse and export it to the folder on your dcf server. There is no certain field size for this script, except it must be the same for Jaw and MLC shaped fields (we used 10x10).</p>

<p><img src="https://user-images.githubusercontent.com/81773641/113697667-2f91fc00-96dc-11eb-9a5e-cb6513034e7d.png" alt="XI Tab" /></p>

<p>On Truebeam platform machine to obtain DICOM images from portal imager you need to go to XI tab in Service mode. On the second screen choose 4 filmed images for each session using SHIFT key and export them to flash drive or any other way you like. You can put any filename, but choose the DICOM file format before exporting.</p>

<p><img src="https://user-images.githubusercontent.com/81773641/113697689-34ef4680-96dc-11eb-99d9-321353683f81.png" alt="Service mode export images" /></p>

<p>There are 2 files with script, one is for image processing and other is just a GUI. Also there is an exe file for those who don’t want to install the python or have any other reason. Libraries dependencies: numpy, scipy, cv2, pydicom, tkinter.</p>

<p>After running the script choose a folder with 4 dicom images and press analyze. There is no need to specially name the files or anything else, at least for Varian Truebeam platform machines. Files are distinguished automatically by the jaws position, as their X coordinate will be larger for MLC plan than for a jaws-only plan. Resize factor for bicubic interpolation should be taken carefully because of the memory overflow.</p>


      
      <div class="footer border-top border-gray-light mt-5 pt-3 text-right text-gray">
        This site is open source. <a href="https://github.com/apopodko/BeamCenterFinder/edit/master/README.md">Improve this page</a>.
      </div>
      
    </div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/anchor-js/4.1.0/anchor.min.js" integrity="sha256-lZaRhKri35AyJSypXXs4o6OPFTbTmUoltBbDCbdzegg=" crossorigin="anonymous"></script>
    <script>anchors.add();</script>
  </body>
</html>
